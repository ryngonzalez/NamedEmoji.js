//     Emoji.js 0.0.1
//     2013 Ryan Gonzalez
//     
//     Who doesn't love emoji?

(function(){

  // Save a reference to the global context, 
  // 'window' in browser and 'exports' on server
  var root = this;

  // Create our emoji object
  var Emoji = {};

  // Version number
  Emoji.VERSION = '0.0.1';

  // Public namespace we attach to
  if (typeof exports !== 'undefined') {
    Emoji = exports;
  } else {
    Emoji = root.Emoji = {};
  }

  // Object holding "people" emoji
  var people = {
    'smile':                    0x1F604,
    'blush':                    0x1F60A,
    'smiley':                   0x1F603,
    'relaxed':                  0x263A,
    'smirk':                    0x1F60F,
    'heart_eyes':               0x1F60D,
    'kissing_heart':            0x1F618,
    'kissing_face':             0x1F61A,
    'flushed':                  0x1F633,
    'relieved':                 0x1F625,
    'satisfied':                0x1F60C,
    'grin':                     0x1F601,
    'wink':                     0x1F609,
    'wink2':                    0x1F61C,
    'tongue':                   0x1F61D,
    'unamused':                 0x1F612,
    'sweat':                    0x1F613,
    'pensive':                  0x1F614,
    'disappointed':             0x1F61E,
    'confounded':               0x1F616,
    'fearful':                  0x1F628,
    'cold_sweat':               0x1F630,
    'persevere':                0x1F623,
    'cry':                      0x1F622,
    'sob':                      0x1F62D,
    'joy':                      0x1F602,
    'astonished':               0x1F632,
    'scream':                   0x1F631,
    'angry':                    0x1F620,
    'rage':                     0x1F621,
    'sleepy':                   0x1F62A,
    'mask':                     0x1F637,
    'imp':                      0x1F47F,
    'alien':                    0x1F47D,
    'yellow_heart':             0x1F49B,
    'blue_heart':               0x1F499,
    'purple_heart':             0x1F49C,
    'heart':                    0x2764,
    'green_heart':              0x1F49A,
    'broken_heart':             0x1F494,
    'heartbeat':                0x1F493,
    'heartpulse':               0x1F497,
    'cupid':                    0x1F498,
    'sparkles':                 0x2728,
    // 'star':                     null,
    'star2':                    0x1F31F,
    'anger':                    0x1F4A2,
    // 'exclamation':              null,
    // 'question':                 null,
    'grey_exclamation':         0x2755,
    'grey_question':            0x2754,
    'zzz':                      0x1F4A4,
    'dash':                     0x1F4A8,
    'sweat_drops':              0x1F4A6,
    'notes':                    0x1F3B6,
    'musical_note':             0x1F3B5,
    'fire':                     0x1F525,
    'hankey':                   0x1F4A9,
    'poop':                     0x1F4A9,
    'shit':                     0x1F4A9,
    '+1':                       0x1F44D,
    'thumbsup':                 0x1F44D,
    '-1':                       0x1F44E,
    'thumbsdown':               0x1F44E,
    'ok_hand':                  0x1F44C,
    'punch':                    0x1F44A,
    'fist':                     0x270A,
    'v':                        0x270C,
    'wave':                     0x1F44B,
    'hand':                     0x270B,
    'open_hands':               0x1F450,
    'point_up':                 0x261D,
    'point_down':               0x1F447,
    'point_left':               0x1F448,
    'point_right':              0x1F449,
    'raised_hands':             0x1F64C,
    'pray':                     0x1F64F,
    'point_up_2':               0x1F446,
    'clap':                     0x1F44F,
    'muscle':                   0x1F4AA,
    // 'metal':                    null,
    'walking':                  0x1F6B6,
    'runner':                   0x1F3C3,
    'couple':                   0x1F46B,
    'dancer':                   0x1F483,
    'dancers':                  0x1F46F,
    'ok_woman':                 0x1F646,
    'no_good':                  0x1F645,
    'information_desk_person':  0x1F481,
    'bow':                      0x1F647,
    'couplekiss':               0x1F48F,
    'couple_with_heart':        0x1F491,
    'massage':                  0x1F486,
    'haircut':                  0x1F487,
    'nail_care':                0x1F485,
    'boy':                      0x1F466,
    'girl':                     0x1F467,
    'woman':                    0x1F469,
    'man':                      0x1F468,
    'baby':                     0x1F476,
    'older_woman':              0x1F475,
    'older_man':                0x1F474,
    'person_with_blond_hair':   0x1F471,
    'man_with_gua_pi_mao':      0x1F472,
    'man_with_turban':          0x1F473,
    'construction_worker':      0x1F477,
    'cop':                      0x1F46E,
    'angel':                    0x1F47C,
    'princess':                 0x1F478,
    'guardsman':                0x1F482,
    'skull':                    0x1F480,
    'feet':                     0x1F463,
    'lips':                     0x1F444,
    'kiss':                     0x1F48B,
    'ear':                      0x1F442,
    'eyes':                     0x1F440,
    'nose':                     0x1F443,
    // 'feelsgood':                null,
    // 'finnadie':                 null,
    // 'goberserk':                null,
    // 'godmode':                  null,
    // 'hurtrealbad':              null,
    // 'rage1':                    null,
    // 'rage2':                    null,
    // 'rage3':                    null,
    // 'rage4':                    null,
    // 'suspect':                  null,
    // 'trollface':                null,
  }

  var nature = {
    'sunny':                    0x2600,
    'umbrella':                 0x2614,
    'cloud':                    0x2601,
    'snowman':                  0x26C4,
    'moon':                     0x1F319,
    'zap':                      0x26A1,
    'cyclone':                  0x1F300,
    'ocean':                    0x1F30A,
    'cat':                      0x1F431,
    'dog':                      0x1F436,
    'mouse':                    0x1F42D,
    'hamster':                  0x1F439,
    'rabbit':                   0x1F430,
    'wolf':                     0x1F43A,
    'frog':                     0x1F438,
    'tiger':                    0x1F42F,
    'koala':                    0x1F428,
    'bear':                     0x1F43B,
    'pig':                      0x1F437,
    'cow':                      0x1F42E,
    'boar':                     0x1F417,
    'monkey_face':              0x1F435,
    'monkey':                   0x1F412,
    'horse':                    0x1F434,
    'racehorse':                0x1F40E,
    'camel':                    0x1F42B,
    'sheep':                    0x1F411,
    'elephant':                 0x1F418,
    'snake':                    0x1F40D,
    'bird':                     0x1F426,
    'baby_chick':               0x1F424,
    'chicken':                  0x1F414,
    'penguin':                  0x1F427,
    'bug':                      0x1F41B,
    'octopus':                  0x1F419,
    'tropical_fish':            0x1F420,
    'fish':                     0x1F41F,
    'whale':                    0x1F433,
    'dolphin':                  0x1F42C,
    'bouquet':                  0x1F490,
    'cherry_blossom':           0x1F338,
    'tulip':                    0x1F337,
    'four_leaf_clover':         0x1F340,
    'rose':                     0x1F339,
    'sunflower':                0x1F33B,
    'hibiscus':                 0x1F33A,
    'maple_leaf':               0x1F341,
    'leaves':                   0x1F343,
    'fallen_leaf':              0x1F342,
    'palm_tree':                0x1F334,
    'cactus':                   0x1F335,
    'ear_of_rice':              0x1F33E,
    'shell':                    0x1F41A,
    'octocat':                  null,
    'squirrel':                 null,
  }

  var objects = {
    'bamboo':                   0x1F38D,
    'gift_heart':               0x1F49D,
    'dolls':                    0x1F38E,
    'school_satchel':           0x1F392,
    'mortar_board':             0x1F393,
    'flags':                    0x1F38F,
    'fireworks':                0x1F386,
    'sparkler':                 0x1F387,
    'wind_chime':               0x1F390,
    'rice_scene':               0x1F391,
    'jack_o_lantern':           0x1F383,
    'ghost':                    0x1F47B,
    'santa':                    0x1F385,
    'christmas_tree':           0x1F384,
    'gift':                     0x1F381,
    'bell':                     0x1F514,
    'tada':                     0x1F389,
    'balloon':                  0x1F388,
    'cd':                       0x1F4BF,
    'dvd':                      0x1F4C0,
    'camera':                   0x1F4F7,
    'movie_camera':             0x1F3A5,
    'computer':                 0x1F4BB,
    'tv':                       0x1F4FA,
    'iphone':                   0x1F4F1,
    'fax':                      0x1F4E0,
    'phone':                    0x260E,
    'telephone':                0x260E,
    'minidisc':                 0x1F4BD,
    'vhs':                      0x1F4FC,
    'speaker':                  0x1F50A,
    'loudspeaker':              0x1F4E2,
    'mega':                     0x1F4E3,
    'radio':                    0x1F4FB,
    'satellite':                0x1F4E1,
    'loop':                     0x27BF,
    'mag':                      0x1F50D,
    'unlock':                   0x1F513,
    'lock':                     0x1F512,
    'key':                      0x1F511,
    'scissors':                 0x2702,
    'hammer':                   0x1F528,
    'bulb':                     0x1F4A1,
    'calling':                  0x1F4F2,
    'email':                    0x1F4E9,
    'mailbox':                  0x1F4EB,
    'postbox':                  0x1F4EE,
    'bath':                     0x1F6C0,
    'toilet':                   0x1F6BD,
    'seat':                     0x1F4BA,
    'moneybag':                 0x1F4B0,
    'trident':                  0x1F531,
    'smoking':                  0x1F6AC,
    'bomb':                     0x1F4A3,
    'gun':                      0x1F52B,
    'pill':                     0x1F48A,
    'syringe':                  0x1F489,
    'football':                 0x1F3C8,
    'basketball':               0x1F3C0,
    'soccer':                   0x26BD,
    'baseball':                 0x26BE,
    'tennis':                   0x1F3BE,
    'golf':                     0x26F3,
    '8ball':                    0x1F3B1,
    'swimmer':                  0x1F3CA,
    'surfer':                   0x1F3C4,
    'ski':                      0x1F3BF,
    'spades':                   0x2660,
    'hearts':                   0x2665,
    'clubs':                    0x2663,
    'diamonds':                 0x2666,
    'gem':                      0x1F48E,
    'ring':                     0x1F48D,
    'trophy':                   0x1F3C6,
    'space_invader':            0x1F47E,
    'dart':                     0x1F3AF,
    'mahjong':                  0x1F004,
    'clapper':                  0x1F3AC,
    'memo':                     0x1F4DD,
    'pencil':                   0x1F4DD,
    'book':                     0x1F4D6,
    'art':                      0x1F3A8,
    'microphone':               0x1F3A4,
    'headphones':               0x1F3A7,
    'trumpet':                  0x1F3BA,
    'saxophone':                0x1F3B7,
    'guitar':                   0x1F3B8,
    'part_alternation_mark':    0x303D,
    'shoe':                     0x1F45F,
    'sandal':                   0x1F461,
    'high_heel':                0x1F460,
    'lipstick':                 0x1F484,
    'boot':                     0x1F462,
    'shirt':                    0x1F455,
    'tshirt':                   0x1F455,
    'necktie':                  0x1F454,
    'dress':                    0x1F457,
    'kimono':                   0x1F458,
    'bikini':                   0x1F459,
    'ribbon':                   0x1F380,
    'tophat':                   0x1F3A9,
    'crown':                    0x1F451,
    'womans_hat':               0x1F452,
    'closed_umbrella':          0x1F302,
    'briefcase':                0x1F4BC,
    'handbag':                  0x1F45C,
    'beer':                     0x1F37A,
    'beers':                    0x1F37B,
    'cocktail':                 0x1F378,
    'sake':                     0x1F376,
    'fork_and_knife':           0x1F374,
    'hamburger':                0x1F354,
    'fries':                    0x1F35F,
    'spaghetti':                0x1F35D,
    'curry':                    0x1F35B,
    'bento':                    0x1F371,
    'sushi':                    0x1F363,
    'rice_ball':                0x1F359,
    'rice_cracker':             0x1F358,
    'rice':                     0x1F35A,
    'ramen':                    0x1F35C,
    'stew':                     0x1F372,
    'bread':                    0x1F35E,
    'egg':                      0x1F373,
    'oden':                     0x1F362,
    'dango':                    0x1F361,
    'icecream':                 0x1F366,
    'shaved_ice':               0x1F367,
    'birthday':                 0x1F382,
    'cake':                     0x1F370,
    'apple':                    0x1F34E,
    'tangerine':                0x1F34A,
    'watermelon':               0x1F349,
    'strawberry':               0x1F353,
    'eggplant':                 0x1F346,
    'tomato':                   0x1F345,
    'coffee':                   0x2615,
    'tea':                      0x1F375,
  }

  var places = {
    // '109':                      null,
    'house':                    0x1F3E0,
    'school':                   0x1F3EB,
    'office':                   0x1F3E2,
    'post_office':              0x1F3E3,
    'hospital':                 0x1F3E5,
    'bank':                     0x1F3E6,
    'convenience_store':        0x1F3EA,
    'love_hotel':               0x1F3E9,
    'hotel':                    0x1F3E8,
    'wedding':                  0x1F492,
    'church':                   0x26EA,
    'department_store':         0x1F3EC,
    'city_sunrise':             0x1F307,
    'city_sunset':              0x1F306,
    'japanese_castle':          0x1F3EF,
    'european_castle':          0x1F3F0,
    'tent':                     0x26FA,
    'factory':                  0x1F3ED,
    'tokyo_tower':              0x1F5FC,
    'mount_fuji':               0x1F5FB,
    'sunrise_over_mountains':   0x1F304,
    'sunrise':                  0x1F305,
    'stars':                    0x1F303,
    'statue_of_liberty':        0x1F5FD,
    'rainbow':                  0x1F308,
    'ferris_wheel':             0x1F3A1,
    'fountain':                 0x26F2,
    'roller_coaster':           0x1F3A2,
    'ship':                     0x1F6A2,
    'speedboat':                0x1F6A4,
    'boat':                     0x26F5,
    'sailboat':                 0x26F5,
    'airplane':                 0x2708,
    'rocket':                   0x1F680,
    'bike':                     0x1F6B2,
    'blue_car':                 0x1F699,
    'car':                      0x1F697,
    'red_car':                  0x1F697,
    'taxi':                     0x1F695,
    'bus':                      0x1F68C,
    'police_car':               0x1F693,
    'fire_engine':              0x1F692,
    'ambulance':                0x1F691,
    'truck':                    0x1F69A,
    'train':                    0x1F683,
    'station':                  0x1F689,
    'bullettrain_front':        0x1F685,
    'bullettrain_side':         0x1F684,
    'ticket':                   0x1F3AB,
    'fuelpump':                 0x26FD,
    'traffic_light':            0x1F6A5,
    'warning':                  0x26A0,
    'construction':             0x1F6A7,
    'beginner':                 0x1F530,
    'atm':                      0x1F3E7,
    'slot_machine':             0x1F3B0,
    'busstop':                  0x1F68F,
    'barber':                   0x1F488,
    'hotsprings':               0x2668,
    'checkered_flag':           0x1F3C1,
    'crossed_flags':            0x1F38C,
    // 'jp':                       0x1F1EF}\u1F1F5,
    // 'kr':                       0x1F1F0}\u1F1F7,
    // 'cn':                       0x1F1E8}\u1F1F3,
    // 'us':                       0x1F1FA}\u1F1F8,
    // 'fr':                       0x1F1EB}\u1F1F7,
    // 'es':                       0x1F1EA}\u1F1F8,
    // 'it':                       0x1F1EE}\u1F1F9,
    // 'ru':                       0x1F1F7}\u1F1FA,
    // 'gb':                       0x1F1EC}\u1F1E7,
    // 'de':                       0x1F1E9}\u1F1EA,
  }

  var symbols = {
    // '1':                        0x0031}\u20E3,
    // '2':                        0x0032}\u20E3,
    // '3':                        0x0033}\u20E3,
    // '4':                        0x0034}\u20E3,
    // '5':                        0x0035}\u20E3,
    // '6':                        0x0036}\u20E3,
    // '7':                        0x0037}\u20E3,
    // '8':                        0x0038}\u20E3,
    // '9':                        0x0039}\u20E3,
    // '0':                        0x0030}\u20E3,
    // 'hash':                     0x0023}\u20E3,
    'arrow_backward':           0x25C0,
    'arrow_down':               0x2B07,
    'arrow_forward':            0x25B6,
    'arrow_left':               0x2B05,
    'arrow_lower_left':         0x2199,
    'arrow_lower_right':        0x2198,
    'arrow_right':              0x27A1,
    'arrow_up':                 0x2B06,
    'arrow_upper_left':         0x2196,
    'arrow_upper_right':        0x2197,
    'rewind':                   0x23EA,
    'fast_forward':             0x23E9,
    'ok':                       0x1F197,
    'new':                      0x1F195,
    'top':                      0x1F51D,
    'up':                       0x1F199,
    'cool':                     0x1F192,
    'cinema':                   0x1F3A6,
    'koko':                     0x1F201,
    'signal_strength':          0x1F4F6,
    'u5272':                    0x1F239,
    'u55b6':                    0x1F23A,
    'u6307':                    0x1F22F,
    'u6708':                    0x1F237,
    'u6709':                    0x1F236,
    'u6e80':                    0x1F235,
    'u7121':                    0x1F21A,
    'u7533':                    0x1F238,
    'u7a7a':                    0x1F233,
    'sa':                       0x1F202,
    'restroom':                 0x1F6BB,
    'mens':                     0x1F6B9,
    'womens':                   0x1F6BA,
    'baby_symbol':              0x1F6BC,
    'no_smoking':               0x1F6AD,
    'parking':                  0x1F17F,
    'wheelchair':               0x267F,
    'metro':                    0x1F687,
    'wc':                       0x1F6BE,
    'secret':                   0x3299,
    'congratulations':          0x3297,
    'ideograph_advantage':      0x1F250,
    'underage':                 0x1F51E,
    'id':                       0x1F194,
    'eight_spoked_asterisk':    0x2733,
    'eight_pointed_black_star': 0x2734,
    'heart_decoration':         0x1F49F,
    'vs':                       0x1F19A,
    'vibration_mode':           0x1F4F3,
    'mobile_phone_off':         0x1F4F4,
    'chart':                    0x1F4B9,
    'currency_exchange':        0x1F4B1,
    'aries':                    0x2648,
    'taurus':                   0x2649,
    'gemini':                   0x264A,
    'cancer':                   0x264B,
    'leo':                      0x264C,
    'virgo':                    0x264D,
    'libra':                    0x264E,
    'scorpius':                 0x264F,
    'sagittarius':              0x2650,
    'capricorn':                0x2651,
    'aquarius':                 0x2652,
    'pisces':                   0x2653,
    'ophiuchus':                0x26CE,
    'six_pointed_star':         0x1F52F,
    'a':                        0x1F170,
    'b':                        0x1F171,
    'ab':                       0x1F18E,
    'o2':                       0x1F17E,
    'red_circle':               0x1F534,
    'black_square':             0x1F532,
    'white_square':             0x1F533,
    'clock1':                   0x1F550,
    'clock10':                  0x1F559,
    'clock11':                  0x1F55A,
    'clock12':                  0x1F55B,
    'clock2':                   0x1F551,
    'clock3':                   0x1F552,
    'clock4':                   0x1F553,
    'clock5':                   0x1F554,
    'clock6':                   0x1F555,
    'clock7':                   0x1F556,
    'clock8':                   0x1F557,
    'clock9':                   0x1F558,
    'o':                        0x2B55,
    'x':                        0x274C,
    'copyright':                0x00A9,
    'registered':               0x00AE,
    'tm':                       0x2122,
    // 'shipit':                   null,
  }

  // Merge two objects together
  var merge = function (a,b) {
    var ret = {};
    for (var attrname in a) { ret[attrname] = a[attrname]; }
    for (var attrname in b) { ret[attrname] = b[attrname]; }
    return ret;
  }

  Emoji.init = function () {

    // Merge the category objects
    var ret = merge(ret, people);
        ret = merge(ret, objects);
        ret = merge(ret, nature);
        ret = merge(ret, symbols);
        ret = merge(ret, places);

    // Set total emoji object to 'emojis'
    this.emojis = ret;    
  }


  // If the code point is greater than the UCS-2
  // ceiling conver to surrogate pairs
  // 
  // Based off of punycode.js ucs2encode method
  // https://github.com/bestiejs/punycode.js/blob/a6ea357aae89c90733dedd83cc4dac6982a69478/punycode.js#L128-147

  var decode = function (code_point) {
    var output = '';
    if (code_point > 0xFFFF) {
      code_point -= 0x10000;
      output += String.fromCharCode(code_point >>> 10 & 0x3FF | 0xD800);
      code_point = 0xDC00 | code_point & 0x3FF;
    }
    output += String.fromCharCode(code_point);
    return output;
  }


  // Get emoji
  Emoji.get = function (name, options) {
    
    if (typeof options === "object" && typeof options.image !== "undefined")
      return "https://a248.e.akamai.net/assets.github.com/images/icons/emoji/" + name + ".png";

    // If the different categories haven't been merged yet, merge them
    if (typeof this.emojis === "undefined") {
      this.init();
    }

    // Get the emoji
    return decode(this.emojis[name]);
  }


}).call(this);

